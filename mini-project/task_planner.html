<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Multi-Week Adaptive Planner</title>
<style>
  /* --- Animated Gradient Background + Floating Bubbles --- */
 /* ================= GLOBAL ================= */
body {
  margin: 0;
  font-family: "Poppins", sans-serif;
  color: #e8f1f2;
  overflow-y: auto;
  min-height: 100vh;
  position: relative;

  /* Updated to match the website theme */
  /* background: linear-gradient(135deg, #0f2027, #203a43, #2c5364); */
  background: linear-gradient(#213D47, #1D2F44);

  background-size: 400% 400%;
}

/* Keep depth overlay consistent */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.35);
  z-index: -3;
}


@keyframes floatUp {
  0% { transform: translateY(100vh) scale(0.5); opacity: 0.5; }
  50% { opacity: 0.9; }
  100% { transform: translateY(-10vh) scale(1.2); opacity: 0; }
}


/* ================= HEADER ================= */
header {
  text-align: center;
  padding: 60px 20px 20px;
}

header h1 {
  font-size: 2.5em;

  /* Matched to global accent color */
  color: #9c8cff;
}

header p {
  color: #b0bec5;
}


/* ================= MAIN CONTAINER ================= */
.container {
  width: 90%;
  max-width: 1100px;
  margin: 40px auto;

  /* Updated to match glassmorphism from other pages */
  background: rgba(255, 255, 255, 0.06);
  border-radius: 16px;
  padding: 30px 40px;
  box-shadow: 0 4px 25px rgba(124, 92, 255, 0.25);
  backdrop-filter: blur(10px);
}

h2 {
  text-align: center;
  color: #9c8cff;
  margin-bottom: 20px;
}

label {
  color: #d3dae3;
}

input,
select {
  padding: 8px 12px;
  border: none;
  border-radius: 8px;
  background: rgba(255,255,255,0.08);
  color: #e8f1f2;
  margin: 5px;
}


/* ================= SELECT DROPDOWN FIX ================= */
select {
  appearance: none;
  background-color: rgba(15, 25, 40, 0.85);
  color: #e8f1f2;
  border: 1px solid rgba(156,140,255,0.3);
  padding-right: 35px;
  cursor: pointer;

  background-image: linear-gradient(135deg, #1a1f3b, #2b335b);
  background-size: 200% 200%;
  transition: 0.3s ease;
}

select:hover,
select:focus {
  background-position: 100% 0;
  box-shadow: 0 0 10px rgba(124, 92, 255, 0.4);
  outline: none;
}

option {
  background-color: #1a1f3b;
  color: #e8f1f2;
}


/* ================= BUTTON ================= */
button {
  background: linear-gradient(135deg, #9c8cff, #7b61ff);
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.3s;
  box-shadow: 0 0 15px rgba(124,92,255,0.3);
}

button:hover {
  background: linear-gradient(135deg, #7b61ff, #9c8cff);
  box-shadow: 0 0 18px rgba(156,140,255,0.6);
  transform: scale(1.05);
}


/* ================= WEEK GRID ================= */
.week-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
}

.day-card {
  background: rgba(255, 255, 255, 0.08);

  /* Accent color matched */
  border-left: 6px solid #9c8cff;

  border-radius: 10px;
  padding: 16px;
}

.day-card h3 { 
  color: #7b61ff;
  margin-bottom: 10px;
}

.day-card small { color: #cfd8dc; }

ul { list-style: none; padding-left: 0; }

li { 
  margin: 6px 0; 
  display: flex; 
  justify-content: space-between; 
  align-items: center; 
}

input[type="checkbox"] { 
  transform: scale(1.2); 
  accent-color: #9c8cff; 
}

.completed { 
  text-decoration: line-through; 
  opacity: 0.6; 
}

footer { 
  text-align: center; 
  color: #cfd8dc;
  margin: 40px 0; 
}

</style>
</head>
<body>

<header>
  <h1>ðŸ“† Multi-Week Adaptive Planner</h1>
  <p>Next week now starts right after the previous one ends â€” day by day! ðŸ’œ</p>
</header>

<div class="container" id="setupContainer">
  <h2>Set Your Start Date and Day</h2>
  <label>Start Date: </label>
  <input type="date" id="startDate" />
  <label>Start Day: </label>
  <select id="startDay">
    <option>Monday</option><option>Tuesday</option><option>Wednesday</option>
    <option>Thursday</option><option>Friday</option><option>Saturday</option><option>Sunday</option>
  </select>
  <button id="beginBtn">Start Planner</button>
</div>

<div class="container" id="plannerContainer" style="display:none;">
  <h2 id="weekTitle">Week 1 Plan</h2>
  <div id="weekGrid" class="week-grid"></div>
  <button id="nextWeekBtn">Finish Week âž¡ Generate Next Week</button>
</div>



<script>
  /* === Subjects and topics === */
  const subjects = {
    Mathematics: ["Complex Number", "Linaer Inequalities", "Permutation and Combination", "Binomial Theorem", "Sequence and Series"],
    // Physics: ["Motion", "Force", "Energy", "Waves", "Electricity"],
    // Chemistry: ["Atoms", "Reactions", "Periodic Table", "Bonds", "Acids"],
    // Biology: ["Cells", "Genetics", "Reproduction", "Plants", "Evolution"],
    // "Computer Science": ["HTML", "CSS", "JavaScript", "Data Structures", "Algorithms"]
  };

  const daysOfWeek = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"];
  let topicStatus = {};
  let currentWeek = 1;
  let startDayIndex = 0;
  let currentDate = null;

  const startContainer = document.getElementById("setupContainer");
  const plannerContainer = document.getElementById("plannerContainer");
  const weekGrid = document.getElementById("weekGrid");
  const weekTitle = document.getElementById("weekTitle");

  for (let s in subjects) {
    topicStatus[s] = {};
    subjects[s].forEach((t) => (topicStatus[s][t] = "pending"));
  }

  const addDays = (date, days) => {
    const copy = new Date(date);
    copy.setDate(copy.getDate() + days);
    return copy;
  };

  const formatDate = (date) => date.toLocaleDateString(undefined, { month: "short", day: "numeric" });

  function generateWeekPlan(weekNumber, startIndex, dateStart) {
    weekGrid.innerHTML = "";
    weekTitle.textContent = `Week ${weekNumber} Plan`;

    const pendingTopics = {};
    for (let sub in topicStatus) {
      pendingTopics[sub] = Object.keys(topicStatus[sub]).filter(
        (t) => topicStatus[sub][t] === "pending"
      );
    }

    for (let i = 0; i < 7; i++) {
      const dayName = daysOfWeek[(startIndex + i) % 7];
      const cardDate = addDays(dateStart, i);
      const card = document.createElement("div");
      card.classList.add("day-card");
      card.innerHTML = `<h3>${dayName}</h3><small>${formatDate(cardDate)}</small>`;
      const ul = document.createElement("ul");

      let assigned = 0;
      for (let subject in subjects) {
        if (pendingTopics[subject].length > 0) {
          const topic = pendingTopics[subject].shift();
          assigned++;
          const li = document.createElement("li");
          li.innerHTML = `${subject}: <span>${topic}</span> <input type="checkbox">`;
          const cb = li.querySelector("input");
          cb.addEventListener("change", (e) => {
            topicStatus[subject][topic] = e.target.checked ? "done" : "pending";
            li.classList.toggle("completed", e.target.checked);
          });
          ul.appendChild(li);
        }
      }
      card.appendChild(ul);
      weekGrid.appendChild(card);
    }
  }

  document.getElementById("beginBtn").addEventListener("click", () => {
    const dateValue = document.getElementById("startDate").value;
    const dayValue = document.getElementById("startDay").value;
    if (!dateValue) return alert("Please select a start date!");

    startDayIndex = daysOfWeek.indexOf(dayValue);
    currentDate = new Date(dateValue);
    startContainer.style.display = "none";
    plannerContainer.style.display = "block";

    generateWeekPlan(currentWeek, startDayIndex, currentDate);
  });

  document.getElementById("nextWeekBtn").addEventListener("click", () => {
    const checkboxes = weekGrid.querySelectorAll('input[type="checkbox"]');
    const done = [...checkboxes].filter((c) => c.checked).length;
    const total = checkboxes.length;
    const percent = Math.round((done / total) * 100);
    alert(`Week ${currentWeek} Complete! ðŸŽ¯ You achieved ${percent}% this week.`);

    const lastDayIndex = (startDayIndex + 6) % 7;
    const nextStartIndex = (lastDayIndex + 1) % 7;

    currentDate = addDays(currentDate, 7);
    startDayIndex = nextStartIndex;
    currentWeek++;

    const remaining = Object.values(topicStatus)
      .flatMap((obj) => Object.values(obj))
      .filter((s) => s === "pending").length;

    if (remaining === 0) {
      alert("ðŸŽ‰ All topics completed! Excellent work!");
    } else {
      generateWeekPlan(currentWeek, startDayIndex, currentDate);
      window.scrollTo({ top: 0, behavior: "smooth" });
    }
  });
</script>
</body>
</html>
